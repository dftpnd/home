<!DOCTYPE html><html lang="ru"><head><title>М.Г. - Мыслы</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>body{font:125%/1.58 'PT Serif','Times New Roman',Georgia,serif}h1,h2,h3,h4{font-weight:900;color:#000}h1{font:250% Roboto,Geneva,Verdana,sans-serif;margin:1.8em 0 .5em}h2{font:200% Roboto,Geneva,Verdana,sans-serif;margin:1.3em 0 .6em}h3{font:150% Roboto,Geneva,Verdana,sans-serif;margin:2.07em 0 .95em}ul{list-style:none;margin-left:2em;margin-bottom:1.55em}li{position:relative;}li:after{content:'•';position:absolute;left:-1em;top:-2px}p{margin-bottom:1.55em;hyphens:auto}pre{display:block;padding:.5rem;margin:-.5rem -.5rem .5rem -.5rem;border-top:1px solid #000;border-bottom:1px solid #000}.content h4:first-child{margin-top:1.9em}html{height:100%;box-sizing:border-box;color:#333}body{padding:0 .5rem}*{margin:0;padding:0;box-sizing:inherit}*:before,*:after{box-sizing:inherit}body{min-height:100%;position:relative;overflow-y:scroll}a{text-decoration:underline;color:inherit;}a:visited,a:visited *{color:#b40eb4}a:hover,a:visited:hover,a:visited:hover *{color:#c00}img,embed,object,audio,video{height:auto;max-width:100%}article.content p,article.content .mime{max-width:42rem}.vw-100{position:relative;right:.5rem;width:calc(100% + 1rem)}.limiter .limiter{padding:0 .5rem}@media (min-width:768px){.limiter .limiter{padding:0}.limiter,.menu{margin-left:8.333333333333334%}.im-panda{margin-left:-4.761904761904762%}.vw-100{position:relative;right:calc(100vw - (100vw * 0.916666) + 0.5rem);width:calc(100% + (100vw - (100vw * 0.916666) + 1rem))}}@media (min-width:992px){.limiter,.menu{margin-left:16.666666666666668%}.vw-100{position:relative;right:calc(100vw - (100vw * 0.833333) + 0.5rem);width:calc(100% + (100vw - (100vw * 0.833333) + 1rem))}}.menu{display:block;padding-top:2.9em;margin-bottom:4.1rem;margin-right:-.5rem;overflow:hidden;}.menu__wrapper{display:flex;margin:0 0 -2rem;padding:0 0 2rem;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;}.menu__wrapper:after{content:'';border-left:10ex solid transparent}.menu__item{position:relative;display:block;text-decoration:none;padding:.5rem 0;margin-right:3ex;}.menu__item:visited *{color:#000}.menu__item.active span{color:#c00 !important;border-bottom:3px solid}.menu__item.active:hover span{border-bottom:3px solid}.menu__item:hover span{border-bottom:1px solid}.footer{padding-bottom:2.6rem}.panda{display:inline-block;width:120px;margin-top:-1.6rem;margin-bottom:.5rem;}@media (max-width:768px){.panda + *{margin-top:-.3rem}}@media (min-width:768px){.panda{float:left;margin:0 1.5rem 0 0}}</style><link rel="preload" href="/home/style/think.css" as="style" onload="this.rel='stylesheet'"><noscript><link rel="stylesheet" href="/home/style/think.css"></noscript><script>!function(e){"use strict";var n=function(n,t,o){function i(e){if(a.body)return e();setTimeout(function(){i(e)})}function r(){l.addEventListener&&l.removeEventListener("load",r),l.media=o||"all"}var d,a=e.document,l=a.createElement("link");if(t)d=t;else{var f=(a.body||a.getElementsByTagName("head")[0]).childNodes;d=f[f.length-1]}var s=a.styleSheets;l.rel="stylesheet",l.href=n,l.media="only x",i(function(){d.parentNode.insertBefore(l,t?d:d.nextSibling)});var u=function(e){for(var n=l.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){u(e)})};return l.addEventListener&&l.addEventListener("load",r),l.onloadcssdefined=u,u(r),l};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);</script><script src="/home/dest/scripts/lib/load-css.polyfill.min.js" async></script></head><body><nav class="menu"><div class="menu__wrapper"><a href="/home/dest/index.html" class="menu__item"><span>Гостевая</span> </a><a href="/home/dest/think.html" class="menu__item active"><span>Мысли</span> </a><!-- <a href="/home/projects.html" class="menu__item">
            <span>Проекты</span>
        </a>
        <a href="/home/events.html" class="menu__item">
            <span>События</span>
        </a> --></div></nav><div class="limiter"><article class="content"><h2>Белый !important на черном фоне</h2><time class="subtitle-time" datetime="2016-11-13">13 ноября 2016</time><div class="important-hd vw-100"><div class="limiter">!important</div></div><p>для профессионалов.</p><p>&mdash; Когда он&nbsp;может пригодиться, он&nbsp;же вроде для костылей?<br>&mdash; ну например:</p><h3>В тестировании</h3><pre class="mime" contenteditable="true">
*,
*:after,
*:before
{
    transition: none !important;
    animation: none !important;
}
                </pre><p>&mdash; Чего-чего?<br>&mdash; В&nbsp;разработке мы&nbsp;используем анимацию, которая может поломать регрессионные тесты, лучше ее&nbsp;сразу выключить.</p><h3>В универсальных свойствах</h3><p>&mdash; Каких свойствах?<br>&mdash; Все просто рассмотрим на&nbsp;примере <em>background</em><br>Есть блок в&nbsp;нескольких вариациях. Фон блока задан красным, а&nbsp;картинку на&nbsp;блоке определяет модификатор.</p><pre class="mime" contenteditable="true">
.block
{
    background-color: red<mark>!important</mark>;
}

.block__var1
{
    background: url(cat.png);
}

.block__var2
{
    background: url(dog.png);
}
                </pre><p>Без <em>!important</em> свойство background будет более сильным чем background-color, так как содержит в&nbsp;себе его определение и&nbsp;по&nbsp;умолчанию обнулит. Так мы&nbsp;гарантируем иммутабельность. Вот еще пример:</p><pre class="mime" contenteditable="true">
&lt;div class="center-block title"&gt;
    Где я?
&lt;div&gt;

.center-block
{
    width: 300px;
    margin: 0 auto;
}
.title
{
    margin-top: 10px <mark>!important</mark>;
}
                </pre><p>Что мы&nbsp;добились с&nbsp;important? Блок выровнен по&nbsp;центру и&nbsp;имеет отступ сверху как у&nbsp;заголовка. Строго говоря эту проблему можно решить без <em>important</em>, достаточно вложить один из&nbsp;элементов в&nbsp;другой, чтобы они не мешали друг другу, но&nbsp;иногда не&nbsp;бывает лишних ресурсов в&nbsp;виде оберточного тега.</p><h3>Для иммутабелности</h3><p>Иногда приходится создавать классы с&nbsp;громкими именами, например <em>.anchor</em>. Будет странно если он&nbsp;не&nbsp;будет выполнять своего предназначения:</p><pre class="mime" contenteditable="true">
&lt;ul class="block"&gt;
    &lt;li class="block__item clear" &gt;...&lt;/li&gt;
    &lt;li class="block__item" &gt;...&lt;/li&gt;
    &lt;li class="block__item" &gt;...&lt;/li&gt;
&lt;/ul&gt;

.block .block__item
{
    float:left
}

.anchor
{
    float: none <mark>!important</mark>
}

                </pre><h3>Тогда откуда ненависть?</h3><p>У&nbsp;important есть есть черная сторона, это свойство увеличивает специфичность до&nbsp;максимума, которую можно перебить только увеличив специфичность и&nbsp;добавив important, что превращает поддержку такого кода в&nbsp;боль. Если в&nbsp;вашем коде есть что то&nbsp;такое:</p><pre class="mime" contenteditable="true">
/* плохо */
&lt;div class="block dark light"&gt;&lt;/div&gt;

.block
{
    color: red;
}

.block.dark
{
    color: black!important;
}

.block.light
{
    color: white;
}

                </pre><p>то сюдя по всему у вас проблемы в логике, которую пытается решить цсс.</p></article><footer class="footer"><h2>Для связи</h2><ul><li>Почта <a href="mailto:lkdnvc@gmail.com">lkdnvc@gmail.com</a></li><li>Телеграм @<a href="https://telegram.me/mgryaznov">mgryaznov</a></li></ul><p>Исходники сайта на <a href="https://github.com/lkdnvc/home">гитхаб</a></p></footer></div><script>// Fonts
    WebFontConfig = {
        google: { families: ['PT Serif', 'Roboto:700&subset=cyrillic'] }
    };
    (function(d) {
        var wf = d.createElement('script'), s = d.scripts[0];
        wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js';
        wf.async = 'true';
        s.parentNode.insertBefore(wf, s);
    })(document);

    // GoogleAnalytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93484665-1', 'auto');
    ga('send', 'pageview');</script></body></html>